<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TestGenius â€“ TestCases Generator</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='logo.png', v='2') }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='logo.png', v='2') }}">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <header class="header">
        <div class="logo">
            <div class="logo-icon">
                <img src="{{ url_for('static', filename='logo.png', v='2') }}" alt="TestGenius Logo">
            </div>
            <span>TestGenius</span>
        </div>
        <nav class="nav-links">
            <a href="#" class="nav-link" onclick="openModal('aboutModal'); return false;">About</a>
            <a href="#" class="nav-link" onclick="openModal('howItWorksModal'); return false;">How It Works</a>
            <button class="new-submission-btn" onclick="newSubmission()">+ New Submission</button>
        </nav>
    </header>

    <div class="container">
        <div class="main-content">
            <div class="input-section">
                <h2 class="section-title">Problem Description</h2>
                
                <form id="dsa-form">
                    <div class="form-group">
                        <label for="api-key" class="form-label">Google Gemini API Key</label>
                        <div class="input-row">
                            <input 
                                type="text" 
                                id="api-key" 
                                name="api-key" 
                                class="form-input flex-1"
                                placeholder="Enter your Gemini API key"
                                required
                            >
                            <button type="button" class="demo-key-btn" onclick="fillDemoKey()">
                                Demo Key
                            </button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="dsa-question" class="form-label">DSA Question</label>
                        <textarea 
                            id="dsa-question" 
                            name="dsa-question" 
                            class="form-textarea"
                            placeholder="Enter your DSA question or description here. For example: 'Check whether the given number is even or odd? n ranges from 1 to 40.'"
                            required
                        ></textarea>
                    </div>

                    <button type="submit" class="generate-btn" id="generate-btn">
                        <span id="btn-text">Generate Test Cases</span>
                        <div class="loading" id="loading">
                            <div class="spinner"></div>
                            <span>Generating...</span>
                        </div>
                    </button>
                </form>
            </div>

            <div class="output-section">
                <div class="output-header">
                    <h2 class="section-title">Generated Test Cases</h2>
                    <div class="output-actions">
                        <button class="action-btn" onclick="copyToClipboard(); addButtonAnimation(this)">
                            ğŸ“‹ Copy Results
                        </button>
                        <button class="action-btn" onclick="exportResults(); addButtonAnimation(this)">
                            ğŸ“¥ Export History
                        </button>
                    </div>
                </div>

                <div id="results-container">
                    <div id="empty-state" class="empty-state">
                        <div class="empty-state-icon">ğŸ§ª</div>
                        <p>Generated test cases will appear here...</p>
                    </div>
                </div>

                <div id="error-message" class="error-message" style="display: none;"></div>
                <div id="success-message" class="success-message" style="display: none;"></div>
            </div>
        </div>
    </div>

    <!-- About Modal -->
    <div id="aboutModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">About TestGenius</h2>
                <button class="close-btn" onclick="closeModal('aboutModal')">&times;</button>
            </div>
            <div class="modal-body">
                <p>TestGenius is an AI-powered tool that automatically generates structured test cases from DSA (Data Structures and Algorithms) questions using Google's Gemini AI.</p>
                
                <h3>Features</h3>
                <ul>
                    <li>ğŸ¤– AI-powered test case generation</li>
                    <li>ğŸ“ Natural language input processing</li>
                    <li>ğŸ“Š Structured JSON output</li>
                    <li>ğŸ¨ Beautiful, professional interface</li>
                    <li>ğŸ“‹ Copy and export functionality</li>
                    <li>ğŸ”§ Built with Flask and LangChain</li>
                </ul>

                <h3>How It Works</h3>
                <p>Simply describe your test case in natural language, and our AI will analyze it to generate comprehensive test cases with inputs, expected outputs, and explanations.</p>

                <h3>Technology Stack</h3>
                <ul>
                    <li>Backend: Flask, Python</li>
                    <li>AI: Google Gemini API via LangChain</li>
                    <li>Frontend: HTML, CSS, JavaScript</li>
                    <li>Styling: Modern CSS with dark theme</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- How It Works Modal -->
    <div id="howItWorksModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">How It Works</h2>
                <button class="close-btn" onclick="closeModal('howItWorksModal')">&times;</button>
            </div>
            <div class="modal-body">
                <h3>Step 1: Enter Your API Key</h3>
                <p>Get your free Gemini API key from <a href="https://makersuite.google.com/app/apikey" target="_blank" class="link-primary">Google AI Studio</a> or use our demo key for testing.</p>

                <h3>Step 2: Describe Your DSA Question</h3>
                <p>Write your DSA problem description in natural language. Be specific about:</p>
                <ul>
                    <li>What the function should do</li>
                    <li>Input constraints and ranges</li>
                    <li>Expected output format</li>
                    <li>Edge cases to consider</li>
                </ul>

                <h3>Step 3: Generate Test Cases</h3>
                <p>Click "Generate Test Cases" and watch as our AI analyzes your description and creates comprehensive test cases.</p>

                <h3>Step 4: Review and Export</h3>
                <p>Review the generated test cases in the structured table format. Copy or export them for use in your projects.</p>

                <h3>Example Input</h3>
                <div class="code-block">Check whether the given number is even or odd? n ranges from 1 to 40.</div>

                <h3>Example Output</h3>
                <div class="code-block">{
  "test_description": "Check if number is even or odd",
  "description": "Determine whether a given integer is even or odd",
  "input": "An integer n where 1 <= n <= 40",
  "expected_output": "Boolean: True if even, False if odd",
  "test_cases": [
    {
      "input": "2",
      "output": "True",
      "explanation": "2 is an even number"
    }
  ]
}</div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='app.js') }}" defer></script>
</body>
</html>